{"filter":false,"title":"articles.server.controller.js","tooltip":"/controllers/articles.server.controller.js","undoManager":{"mark":13,"position":13,"stack":[[{"start":{"row":89,"column":0},"end":{"row":95,"column":0},"action":"insert","lines":["module.exports.single = function(req, res) {","   res.render('./../public/views/article/view.ejs', {","          user: req.user || null,","          article: req.article","    });","};",""],"id":2}],[{"start":{"row":88,"column":2},"end":{"row":89,"column":0},"action":"insert","lines":["",""],"id":3}],[{"start":{"row":35,"column":0},"end":{"row":48,"column":2},"action":"remove","lines":["module.exports.create = function(req, res) {","  var article = new Article(req.body);","  article.user = req.user;","  article.save(function(err, data) {","    if (err) {","      return res.status(400).send({","","  \t\t\t\tmessage: errorHandler.getErrorMessage(err)","  \t\t\t});","    } else {","      res.status(200).send(data);","    }","  });","};"],"id":4},{"start":{"row":35,"column":0},"end":{"row":35,"column":1},"action":"insert","lines":[" "]}],[{"start":{"row":35,"column":1},"end":{"row":48,"column":0},"action":"insert","lines":["module.exports.create = function(req, res) {","  var article = new Article(req.body);","  article.postedBy = req.user;","  article.save(function(err, data) {","    if (err) {","      return res.status(400).send({","           message: errorHandler.getErrorMessage(err)","         });","    } else {","      res.status(200).send(data);","    }","  });","};",""],"id":5}],[{"start":{"row":35,"column":0},"end":{"row":35,"column":1},"action":"remove","lines":[" "],"id":6}],[{"start":{"row":81,"column":0},"end":{"row":88,"column":2},"action":"remove","lines":["exports.articleByID = function(req, res, next, id) {","\tArticle.findById(id).populate('user', 'email').exec(function(err, article) {","\t\tif (err) return next(err);","\t\tif (!article) return next(new Error('Failed to load article ' + id));","\t\treq.article = article;","\t\tnext();","\t});","};"],"id":7},{"start":{"row":81,"column":0},"end":{"row":81,"column":1},"action":"insert","lines":[" "]}],[{"start":{"row":81,"column":1},"end":{"row":93,"column":0},"action":"insert","lines":["exports.articleByID = function(req, res, next, id) {","   Article.findById(id)","     .populate('postedBy', 'username')","     .exec(function(err, article) {","\t\t    if (err) return next(err);","\t\t    if (!article) ","                return next(new Error('Failed to load    ","                   article ' + id));","               req.article = article;","               next();","          });","};",""],"id":8}],[{"start":{"row":88,"column":0},"end":{"row":88,"column":18},"action":"remove","lines":["                  "],"id":9}],[{"start":{"row":87,"column":57},"end":{"row":88,"column":0},"action":"remove","lines":["",""],"id":10}],[{"start":{"row":87,"column":56},"end":{"row":87,"column":57},"action":"remove","lines":[" "],"id":11}],[{"start":{"row":87,"column":54},"end":{"row":87,"column":56},"action":"remove","lines":["  "],"id":12}],[{"start":{"row":100,"column":0},"end":{"row":101,"column":0},"action":"insert","lines":["",""],"id":13}],[{"start":{"row":101,"column":0},"end":{"row":107,"column":0},"action":"insert","lines":["module.exports.new = function(req, res){","  res.render('./../public/views/article/new.ejs', {","          user: req.user || null,","          request: req","        });","};",""],"id":14}],[{"start":{"row":107,"column":0},"end":{"row":113,"column":0},"action":"insert","lines":["module.exports.edit = function(req, res) {","\tres.render('./../public/views/article/edit.ejs', {","\t\tuser: req.user || null,","\t\tarticle: req.article","\t});","};",""],"id":15}]]},"ace":{"folds":[],"scrolltop":12,"scrollleft":0,"selection":{"start":{"row":21,"column":32},"end":{"row":21,"column":32},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1530271840000,"hash":"122f915a2d62a6f02d7eb2783eaded63c0d47869"}